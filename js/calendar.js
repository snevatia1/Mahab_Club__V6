export function inRange(d,a,b){return d>=a&&d<=b}export function parseISO(d){return new Date(d+'T00:00:00')}export function drawSixMonthCalendar(c,r){c.innerHTML='';const t=new Date();for(let m=0;m<6;m++){const dt=new Date(t.getFullYear(),t.getMonth()+m,1);const w=document.createElement('div');w.className='card';w.innerHTML=`<h3>${dt.toLocaleString('en',{month:'long'})} ${dt.getFullYear()}</h3>`;const cal=document.createElement('div');cal.className='calendar';const wd=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];const h=document.createElement('div');h.className='cal-head';h.style.gridColumn='1 / span 7';const row=document.createElement('div');row.style.display='grid';row.style.gridTemplateColumns='repeat(7,1fr)';wd.forEach(wd=>{const d=document.createElement('div');d.textContent=wd;row.appendChild(d)});h.appendChild(row);cal.appendChild(h);const sd=new Date(dt.getFullYear(),dt.getMonth(),1).getDay();const dim=new Date(dt.getFullYear(),dt.getMonth()+1,0).getDate();for(let i=0;i<sd;i++){const e=document.createElement('div');e.className='day disabled';cal.appendChild(e)}for(let d=1;d<=dim;d++){const cell=document.createElement('div');cell.className='day';const cur=new Date(dt.getFullYear(),dt.getMonth(),d);const di=inRange(cur,parseISO(r.diwali[0]),parseISO(r.diwali[1]));const xm=inRange(cur,parseISO(r.christmas[0]),parseISO(r.christmas[1]));const mo=inRange(cur,parseISO(r.monsoon[0]),parseISO(r.monsoon[1]));let tag='';if(mo)tag='<div class="tag closed">Closed</div>';else if(di||xm)tag='<div class="tag special">Special</div>';else tag='<div class="tag season">Regular</div>';cell.innerHTML=`<div style='font-weight:600'>${d}</div>${tag}`;cal.appendChild(cell)}w.appendChild(cal);c.appendChild(w)}}